{"version":3,"sources":["meteor://ðŸ’»app/ChildToParentAPI.svelte","meteor://ðŸ’»app/imports/api/stores.js","meteor://ðŸ’»app/client/main.js"],"names":["writable","iFrameLoaded","incomingMessageText","count","Meteor","target","document"],"mappings":"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","file":"/app.js","sourcesContent":["<script>\nimport { PARENT_URL, CHILD_URL } from \"/public/constants\";\nimport { incomingMessageText, count } from \"/imports/api/stores\";\n\n//function that displays message, takes in a \"messageText\" argument\nfunction displayMessage(args) {\n  //sanity check\n  console.log(`displayMessage function triggered on parent with args ${args}!`);\n\n  //check messageText is string\n  if (typeof args.messageText === \"string\") {\n    incomingMessageText.set(args.messageText);\n  }\n}\n\n//function that alerts message, takes in a \"messageText\" argument\nfunction alertMessage(args) {\n  //sanity check\n  console.log(`alertMessage function triggered on parent with args ${args}!`);\n\n  //check args and alert\n  if (typeof args.messageText === \"string\") {\n    alert(args.messageText);\n  }\n}\n\n//function that increments count\nconst incrementCount = () => {\n  console.log(\"incrementCount function triggered on parent!\");\n  console.log($count);\n  count.set($count + 1);\n};\n\n//function that decrements count\nconst decrementCount = () => {\n  console.log(\"decrementCount function triggered on parent!\");\n  count.set($count - 1);\n};\n\n//message handler\nwindow.addEventListener(\"message\", function (message) {\n  //function adapter\n  const functionAdapter = {\n    displayMessage,\n    alertMessage,\n    incrementCount,\n    decrementCount,\n  };\n\n  if (message.origin === CHILD_URL) {\n    //sanity check\n    console.log(\"incoming message in parent MessageHandler from child!\");\n    console.log(message);\n\n    //parse input\n    functionName = message.data.function;\n    args = message.data.args;\n\n    //call appropriate function\n    if (functionAdapter[functionName]) {\n      functionAdapter[functionName](args);\n    } else {\n      throw new Error(\"invalid function name\");\n    }\n  } else if (message.origin === PARENT_URL) {\n    //sanity check\n    console.log(\"incoming message in parent MessageHandler from own URL\");\n  } else {\n    //permission denied\n    throw new Error(\"invalid parent URL, permission denied\");\n  }\n});\n</script>\n","import { writable } from \"svelte/store\";\n\nexport const iFrameLoaded = writable(false);\nexport const incomingMessageText = writable(\"\");\nexport const count = writable(0);\n","import { Meteor } from 'meteor/meteor';\nimport App from '../imports/ui/App.svelte';\n\n\nMeteor.startup(() => {\n  new App({\n    target: document.getElementById('app')\n  });\n});"]}