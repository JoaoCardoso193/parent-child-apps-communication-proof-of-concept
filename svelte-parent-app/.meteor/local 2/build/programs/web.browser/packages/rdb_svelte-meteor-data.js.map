{"version":3,"sources":["meteor://ðŸ’»app/packages/rdb:svelte-meteor-data/index.js","meteor://ðŸ’»app/packages/rdb:svelte-meteor-data/autorun.js","meteor://ðŸ’»app/packages/rdb:svelte-meteor-data/cursor.js","meteor://ðŸ’»app/packages/rdb:svelte-meteor-data/reactive-var.js","meteor://ðŸ’»app/packages/rdb:svelte-meteor-data/subscribe.js","meteor://ðŸ’»app/packages/rdb:svelte-meteor-data/use-session.js","meteor://ðŸ’»app/packages/rdb:svelte-meteor-data/use-tracker.js"],"names":["module","link","default","Package","Meteor","isClient","Tracker","v","current_component","schedule_update","dirty_components","_autorun","autorun","_nonreactive","nonreactive","svelteAwareAutorun","f","options","component","computation","apply","arguments","_autoStopComputation","prevAutorun","$$","on_destroy","push","stop","bind","ctx","fragment","dirty","_savedDirty","_stopComputations","_update","update","every","d","forEach","comp","stopped","onInvalidate","fill","mask","i","Mongo","Cursor","prototype","subscribe","set","mapFn","_transform","element","_projectionFn","result","_getRawObjects","ordered","map","handle","observe","_suppress_initial","addedAt","doc","slice","changedAt","old","removedAt","movedTo","from","to","splice","ReactiveVar","nextId","value","curValue","undefined","id","dep","_dependentsById","_id","invalidate","_subscribe","name","params","Array","callbacks","Object","create","length","last","onReady","pop","onError","onStop","some","subscription","readyCallbacks","errorCallbacks","fn","err","then","ready","export","useSession","Session","EJSON","parse","serialized","key","defaultValue","setDefault","_ensureKey","keyDeps","hasOwnProperty","call","keys","useTracker","reactiveFn"],"mappings":"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","file":"/packages/rdb_svelte-meteor-data.js","sourcesContent":["export { default as useTracker } from './use-tracker';\n\nimport './subscribe';\n\nif (Package['mongo']) {\n  import './cursor';\n}\n\nif (Package['reactive-var']) {\n  import './reactive-var';\n}\n\nif (Package['session'] && Meteor.isClient) {\n  export { default as useSession } from './use-session';\n}\n\n// Import this last, since it overwrites the built-in Tracker.autorun\nimport './autorun';\n","/**\n * Makes Tracker.autorun() computations automatically stop when the component is\n * destroyed, or, if run from a reactive Svelte computation, when the update\n * function is run again.\n */\n\nimport { Tracker } from 'meteor/tracker';\nimport { current_component, schedule_update, dirty_components } from 'svelte/internal';\n\n\nconst _autorun = Tracker.autorun;\nconst _nonreactive = Tracker.nonreactive;\n\nfunction svelteAwareAutorun(f, options) {\n  const component = current_component;\n  const computation = _autorun.apply(this, arguments);\n  if (component) {\n    // We're inside a Svelte component.  We have to stop the computation when\n    // the component is destroyed.\n    _autoStopComputation(computation, component);\n  }\n  return computation;\n}\n\nTracker.autorun = svelteAwareAutorun;\n\nTracker.nonreactive = function nonreactive(f) {\n  if (current_component) {\n    // A Tracker.autorun inside a Tracker.nonreactive should behave normally,\n    // without the special Svelte stuff.\n    const prevAutorun = Tracker.autorun;\n    Tracker.autorun = _autorun;\n    try {\n      return _nonreactive.apply(this, arguments);\n    } finally {\n      Tracker.autorun = prevAutorun;\n    }\n  } else {\n    return _nonreactive.apply(this, arguments);\n  }\n};\n\nfunction _autoStopComputation(computation, component) {\n  const $$ = component.$$;\n  $$.on_destroy.push(computation.stop.bind(computation));\n  if (!$$.ctx) {\n    // We're in initialization, so nothing else to do.\n    return;\n  }\n\n  if ($$.fragment && $$.dirty[0] === -1) {\n    // We have a fragment, but it's set to the initial dirty state, so we must\n    // be in on onMount or so.  Don't do anything special, then.\n    return;\n  }\n\n  // We are in a reactive Svelte update.  That means that we'll need to stop the\n  // computation the next time that it is run.  But we don't know when that is,\n  // because the next update may or may not hit this autorun again, depending on\n  // the dirty flags.\n  // So, we simply stop all computations the next time that the update is run,\n  // but we keep listening for invalidations, so that if one of them becomes\n  // invalid, we can force Svelte to re-run the updates to make it hit the\n  // autorun again.\n\n  // But first, remember which dirty flags made this autorun trigger, so that we\n  // can reuse these bits to force Svelte to re-hit the autorun.\n  // This will unfortunately most of the time be all bits set, since the first\n  // time it is called is usually during initialization.  But if the autorun is\n  // first enabled by a Svelte variable change, it will be a bit more efficient.\n  computation._savedDirty = [...$$.dirty];\n\n  if ($$._stopComputations) {\n    $$._stopComputations.push(computation);\n    return;\n  }\n\n  $$._stopComputations = [computation];\n\n  // Temporary hook around the update function so that it stops our computation\n  // the next time it is called.\n  const _update = $$.update;\n  $$.update = () => {\n    // Optimization: are we about to rerun everything?  If so, don't bother with\n    // onInvalidate, just stop the computations right here.\n    if ($$.dirty.every(d => (d === 0x7fffffff))) {\n      $$._stopComputations.forEach(comp => comp.stop());\n    } else {\n      // Otherwise, we are not sure whether all the autorun blocks will run\n      // again, so we prevent the computations from continuing to run, but will\n      // continue to watch it for changes.  If there is a change, we require the\n      // update to be run again.\n      for (const comp of $$._stopComputations) {\n        comp.stopped = true;\n        comp.onInvalidate(() => {\n          if ($$.dirty[0] === -1) {\n            // We're the first to mark it dirty since the last update.\n            dirty_components.push(component);\n            schedule_update();\n            $$.dirty.fill(0);\n          }\n          comp._savedDirty.forEach((mask, i) => {\n            $$.dirty[i] |= mask & 0x7fffffff;\n          });\n        });\n      }\n    }\n\n    // Leave everything as it was, so that the overhead is removed if the\n    // Tracker.autorun was under a condition that has now becomes false.\n    delete $$._stopComputations;\n    $$.update = _update;\n    return _update();\n  };\n}\n","/**\n * Implements the Svelte store contract for MongoDB cursors.\n */\n\nimport { Mongo } from 'meteor/mongo';\n\nMongo.Cursor.prototype.subscribe = function(set) {\n  // Set the initial result directly, without going through the callbacks\n  const mapFn = this._transform\n    ? element => this._transform(this._projectionFn(element))\n    : element => this._projectionFn(element);\n\n  let result = this._getRawObjects({ordered: true}).map(mapFn);\n\n  const handle = this.observe({\n    _suppress_initial: true,\n    addedAt: (doc, i) => {\n      result = [...result.slice(0, i), doc, ...result.slice(i)];\n      set(result);\n    },\n    changedAt: (doc, old, i) => {\n      result = [...result.slice(0, i), doc, ...result.slice(i + 1)];\n      set(result);\n    },\n    removedAt: (old, i) => {\n      result = [...result.slice(0, i), ...result.slice(i + 1)];\n      set(result);\n    },\n    movedTo: (doc, from, to) => {\n      result = [...result.slice(0, from), ...result.slice(from + 1)];\n      result.splice(to, 0, doc);\n      set(result);\n    },\n  });\n\n  set(result);\n  return handle.stop.bind(this);\n};\n","/**\n * Makes ReactiveVar behave as a Svelte store.\n */\n\nimport { ReactiveVar } from 'meteor/reactive-var';\n\nlet nextId = 1;\n\nReactiveVar.prototype.subscribe = function subscribe(set) {\n  const value = this.curValue;\n  if (value !== undefined) {\n    set(value);\n  }\n  const id = `svelte-${nextId++}`;\n  this.dep._dependentsById[id] = {\n    _id: id,\n    invalidate: () => {\n      set(this.curValue);\n    },\n  };\n  return () => {\n    delete this.dep._dependentsById[id];\n  };\n};\n","/**\n * Overrides Meteor.subscribe to do the following things:\n * - Automatically stops the subscription when the component is destroyed\n * - Makes the return value usable in {#await} blocks\n */\n\nimport { current_component } from 'svelte/internal';\n\n\n_subscribe = Meteor.subscribe;\nMeteor.subscribe = function subscribe(name) {\n  const params = Array.from(arguments);\n  let callbacks = Object.create(null);\n  if (params.length > 1) {\n    // Preserve existing callbacks.\n    const last = params[params.length - 1];\n    if (last) {\n      // Last arg may be specified as a function, or as an object\n      if (typeof last === 'function') {\n        callbacks.onReady = params.pop();\n      } else if ([last.onReady, last.onError, last.onStop].some(f => typeof f === \"function\")) {\n        callbacks = params.pop();\n      }\n    }\n  }\n  params.push(callbacks);\n\n  let subscription;\n\n  // Collect callbacks to call when subscription is ready or has errored.\n  let readyCallbacks = [];\n  let errorCallbacks = [];\n  if (callbacks.onReady) {\n    readyCallbacks.push(callbacks.onReady);\n  }\n  if (callbacks.onError) {\n    errorCallbacks.push(callbacks.onError);\n  }\n  callbacks.onReady = () => {\n    readyCallbacks.forEach(fn => fn(subscription));\n    readyCallbacks.length = 0;\n  };\n  callbacks.onError = (err) => {\n    errorCallbacks.forEach(fn => fn(err));\n    errorCallbacks.length = 0;\n  };\n\n  subscription = _subscribe.apply(this, params);\n  if (current_component) {\n    current_component.$$.on_destroy.push(subscription.stop.bind(subscription));\n  }\n  subscription.then = (fn, err) => {\n    if (subscription.ready()) {\n      fn();\n    } else {\n      readyCallbacks.push(fn);\n      err && errorCallbacks.push(err);\n    }\n  };\n  return subscription;\n};\n","/**\n * This function wraps a Meteor Session variable as a Svelte store.\n */\n\nimport { Session } from \"meteor/session\";\nimport { EJSON } from \"meteor/ejson\";\n\nlet nextId = 1;\n\nconst parse = serialized =>\n  (serialized !== undefined && serialized !== 'undefined')\n    ? EJSON.parse(serialized)\n    : undefined;\n\nexport default function useSession(key, defaultValue) {\n  if (arguments.length > 1) {\n    Session.setDefault(key, defaultValue);\n  }\n\n  return {\n    subscribe(set) {\n      Session._ensureKey(key);\n      const dep = Session.keyDeps[key];\n      if (Object.prototype.hasOwnProperty.call(Session.keys, key)) {\n        set(parse(Session.keys[key]));\n      }\n\n      const id = `svelte-session-${nextId++}`;\n      dep._dependentsById[id] = {\n        _id: id,\n        invalidate: () => {\n          set(parse(Session.keys[key]));\n        },\n      };\n\n      return () => {\n        delete dep._dependentsById[id];\n      };\n    },\n    set(value) {\n      Session.set(key, value);\n    },\n  };\n};\n","/**\n * This function wraps a reactive Meteor computation as a Svelte store.\n */\n\nconst nonreactive = Tracker.nonreactive;\nconst autorun = Tracker.autorun;\n\nexport default function useTracker(reactiveFn) {\n  return {\n    subscribe(set) {\n      return nonreactive(() => {\n        const computation = autorun(() => set(reactiveFn()));\n        return computation.stop.bind(computation);\n      });\n    },\n  };\n};\n"]}