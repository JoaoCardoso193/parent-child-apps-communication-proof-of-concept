{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app/packages/rdb:svelte-meteor-data/subscribe.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","objectRestSpread","objectRestSpread","asyncGenerators","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"os.osx.x86_64"},"sourceFileName":"packages/rdb:svelte-meteor-data/subscribe.js","filename":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app/packages/rdb:svelte-meteor-data/subscribe.js","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app","root":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":false,"enforceStrictMode":false,"dynamicImport":true,"generateLetDeclarations":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.15.3","helpers":true,"useESModules":false,"corejs":false}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-meteor-async-await","visitor":{"AwaitExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ObjectMethod":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]},"ClassMethod":{"exit":[null]},"ClassPrivateMethod":{"exit":[null]}},"options":{"useNativeAsyncAwait":false}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app/packages/rdb:svelte-meteor-data/subscribe.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/rdb:svelte-meteor-data/subscribe.js"}},"code":"let current_component;\nmodule.link(\"svelte/internal\", {\n  current_component(v) {\n    current_component = v;\n  }\n\n}, 0);\n_subscribe = Meteor.subscribe;\n\nMeteor.subscribe = function subscribe(name) {\n  const params = Array.from(arguments);\n  let callbacks = Object.create(null);\n\n  if (params.length > 1) {\n    // Preserve existing callbacks.\n    const last = params[params.length - 1];\n\n    if (last) {\n      // Last arg may be specified as a function, or as an object\n      if (typeof last === 'function') {\n        callbacks.onReady = params.pop();\n      } else if ([last.onReady, last.onError, last.onStop].some(f => typeof f === \"function\")) {\n        callbacks = params.pop();\n      }\n    }\n  }\n\n  params.push(callbacks);\n  let subscription; // Collect callbacks to call when subscription is ready or has errored.\n\n  let readyCallbacks = [];\n  let errorCallbacks = [];\n\n  if (callbacks.onReady) {\n    readyCallbacks.push(callbacks.onReady);\n  }\n\n  if (callbacks.onError) {\n    errorCallbacks.push(callbacks.onError);\n  }\n\n  callbacks.onReady = () => {\n    readyCallbacks.forEach(fn => fn(subscription));\n    readyCallbacks.length = 0;\n  };\n\n  callbacks.onError = err => {\n    errorCallbacks.forEach(fn => fn(err));\n    errorCallbacks.length = 0;\n  };\n\n  subscription = _subscribe.apply(this, params);\n\n  if (current_component) {\n    current_component.$$.on_destroy.push(subscription.stop.bind(subscription));\n  }\n\n  subscription.then = (fn, err) => {\n    if (subscription.ready()) {\n      fn();\n    } else {\n      readyCallbacks.push(fn);\n      err && errorCallbacks.push(err);\n    }\n  };\n\n  return subscription;\n};","map":{"version":3,"sources":["packages/rdb:svelte-meteor-data/subscribe.js"],"names":["current_component","module","link","v","_subscribe","Meteor","subscribe","name","params","Array","from","arguments","callbacks","Object","create","length","last","onReady","pop","onError","onStop","some","f","push","subscription","readyCallbacks","errorCallbacks","forEach","fn","err","apply","$$","on_destroy","stop","bind","then","ready"],"mappings":"AAAA,IAAIA,iBAAJ;AAAsBC,MAAM,CAACC,IAAP,CAAY,iBAAZ,EAA8B;AAACF,EAAAA,iBAAiB,CAACG,CAAD,EAAG;AAACH,IAAAA,iBAAiB,GAACG,CAAlB;AAAoB;;AAA1C,CAA9B,EAA0E,CAA1E;AAStBC,UAAU,GAAGC,MAAM,CAACC,SAApB;;AACAD,MAAM,CAACC,SAAP,GAAmB,SAASA,SAAT,CAAmBC,IAAnB,EAAyB;AAC1C,QAAMC,MAAM,GAAGC,KAAK,CAACC,IAAN,CAAWC,SAAX,CAAf;AACA,MAAIC,SAAS,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAhB;;AACA,MAAIN,MAAM,CAACO,MAAP,GAAgB,CAApB,EAAuB;AACrB;AACA,UAAMC,IAAI,GAAGR,MAAM,CAACA,MAAM,CAACO,MAAP,GAAgB,CAAjB,CAAnB;;AACA,QAAIC,IAAJ,EAAU;AACR;AACA,UAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;AAC9BJ,QAAAA,SAAS,CAACK,OAAV,GAAoBT,MAAM,CAACU,GAAP,EAApB;AACD,OAFD,MAEO,IAAI,CAACF,IAAI,CAACC,OAAN,EAAeD,IAAI,CAACG,OAApB,EAA6BH,IAAI,CAACI,MAAlC,EAA0CC,IAA1C,CAA+CC,CAAC,IAAI,OAAOA,CAAP,KAAa,UAAjE,CAAJ,EAAkF;AACvFV,QAAAA,SAAS,GAAGJ,MAAM,CAACU,GAAP,EAAZ;AACD;AACF;AACF;;AACDV,EAAAA,MAAM,CAACe,IAAP,CAAYX,SAAZ;AAEA,MAAIY,YAAJ,CAjB0C,CAmB1C;;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,cAAc,GAAG,EAArB;;AACA,MAAId,SAAS,CAACK,OAAd,EAAuB;AACrBQ,IAAAA,cAAc,CAACF,IAAf,CAAoBX,SAAS,CAACK,OAA9B;AACD;;AACD,MAAIL,SAAS,CAACO,OAAd,EAAuB;AACrBO,IAAAA,cAAc,CAACH,IAAf,CAAoBX,SAAS,CAACO,OAA9B;AACD;;AACDP,EAAAA,SAAS,CAACK,OAAV,GAAoB,MAAM;AACxBQ,IAAAA,cAAc,CAACE,OAAf,CAAuBC,EAAE,IAAIA,EAAE,CAACJ,YAAD,CAA/B;AACAC,IAAAA,cAAc,CAACV,MAAf,GAAwB,CAAxB;AACD,GAHD;;AAIAH,EAAAA,SAAS,CAACO,OAAV,GAAqBU,GAAD,IAAS;AAC3BH,IAAAA,cAAc,CAACC,OAAf,CAAuBC,EAAE,IAAIA,EAAE,CAACC,GAAD,CAA/B;AACAH,IAAAA,cAAc,CAACX,MAAf,GAAwB,CAAxB;AACD,GAHD;;AAKAS,EAAAA,YAAY,GAAGpB,UAAU,CAAC0B,KAAX,CAAiB,IAAjB,EAAuBtB,MAAvB,CAAf;;AACA,MAAIR,iBAAJ,EAAuB;AACrBA,IAAAA,iBAAiB,CAAC+B,EAAlB,CAAqBC,UAArB,CAAgCT,IAAhC,CAAqCC,YAAY,CAACS,IAAb,CAAkBC,IAAlB,CAAuBV,YAAvB,CAArC;AACD;;AACDA,EAAAA,YAAY,CAACW,IAAb,GAAoB,CAACP,EAAD,EAAKC,GAAL,KAAa;AAC/B,QAAIL,YAAY,CAACY,KAAb,EAAJ,EAA0B;AACxBR,MAAAA,EAAE;AACH,KAFD,MAEO;AACLH,MAAAA,cAAc,CAACF,IAAf,CAAoBK,EAApB;AACAC,MAAAA,GAAG,IAAIH,cAAc,CAACH,IAAf,CAAoBM,GAApB,CAAP;AACD;AACF,GAPD;;AAQA,SAAOL,YAAP;AACD,CAlDD","sourcesContent":["/**\n * Overrides Meteor.subscribe to do the following things:\n * - Automatically stops the subscription when the component is destroyed\n * - Makes the return value usable in {#await} blocks\n */\n\nimport { current_component } from 'svelte/internal';\n\n\n_subscribe = Meteor.subscribe;\nMeteor.subscribe = function subscribe(name) {\n  const params = Array.from(arguments);\n  let callbacks = Object.create(null);\n  if (params.length > 1) {\n    // Preserve existing callbacks.\n    const last = params[params.length - 1];\n    if (last) {\n      // Last arg may be specified as a function, or as an object\n      if (typeof last === 'function') {\n        callbacks.onReady = params.pop();\n      } else if ([last.onReady, last.onError, last.onStop].some(f => typeof f === \"function\")) {\n        callbacks = params.pop();\n      }\n    }\n  }\n  params.push(callbacks);\n\n  let subscription;\n\n  // Collect callbacks to call when subscription is ready or has errored.\n  let readyCallbacks = [];\n  let errorCallbacks = [];\n  if (callbacks.onReady) {\n    readyCallbacks.push(callbacks.onReady);\n  }\n  if (callbacks.onError) {\n    errorCallbacks.push(callbacks.onError);\n  }\n  callbacks.onReady = () => {\n    readyCallbacks.forEach(fn => fn(subscription));\n    readyCallbacks.length = 0;\n  };\n  callbacks.onError = (err) => {\n    errorCallbacks.forEach(fn => fn(err));\n    errorCallbacks.length = 0;\n  };\n\n  subscription = _subscribe.apply(this, params);\n  if (current_component) {\n    current_component.$$.on_destroy.push(subscription.stop.bind(subscription));\n  }\n  subscription.then = (fn, err) => {\n    if (subscription.ready()) {\n      fn();\n    } else {\n      readyCallbacks.push(fn);\n      err && errorCallbacks.push(err);\n    }\n  };\n  return subscription;\n};\n"]},"sourceType":"module","hash":"adda138073f9be5e933b5280580645002c48ca46"}
