{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app/imports/api/ChildToParentAPI.svelte","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","objectRestSpread"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"imports/api/ChildToParentAPI.svelte","filename":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app/imports/api/ChildToParentAPI.svelte","targets":{},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app","root":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.13.10","helpers":true,"useESModules":false,"corejs":false}},{"key":"base$0$2","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$3","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":{},"_verified":{},"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"_exploded":{},"_verified":{},"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/joaocardoso193/Desktop/Actual Food/parent-child-apps-communication-proof-of-concept/svelte-parent-app/imports/api/ChildToParentAPI.svelte","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"imports/api/ChildToParentAPI.svelte"}},"code":"var _assertThisInitialized;\n\nmodule.link(\"@babel/runtime/helpers/assertThisInitialized\", {\n  default: function (v) {\n    _assertThisInitialized = v;\n  }\n}, 0);\n\nvar _inheritsLoose;\n\nmodule.link(\"@babel/runtime/helpers/inheritsLoose\", {\n  default: function (v) {\n    _inheritsLoose = v;\n  }\n}, 1);\nvar SvelteComponentDev, component_subscribe, dispatch_dev, globals, init, noop, safe_not_equal, validate_slots, validate_store;\nmodule.link(\"svelte/internal\", {\n  SvelteComponentDev: function (v) {\n    SvelteComponentDev = v;\n  },\n  component_subscribe: function (v) {\n    component_subscribe = v;\n  },\n  dispatch_dev: function (v) {\n    dispatch_dev = v;\n  },\n  globals: function (v) {\n    globals = v;\n  },\n  init: function (v) {\n    init = v;\n  },\n  noop: function (v) {\n    noop = v;\n  },\n  safe_not_equal: function (v) {\n    safe_not_equal = v;\n  },\n  validate_slots: function (v) {\n    validate_slots = v;\n  },\n  validate_store: function (v) {\n    validate_store = v;\n  }\n}, 0);\nvar PARENT_URL, CHILD_URL;\nmodule.link(\"/public/constants\", {\n  PARENT_URL: function (v) {\n    PARENT_URL = v;\n  },\n  CHILD_URL: function (v) {\n    CHILD_URL = v;\n  }\n}, 1);\nvar incomingMessageText, count;\nmodule.link(\"/imports/api/stores\", {\n  incomingMessageText: function (v) {\n    incomingMessageText = v;\n  },\n  count: function (v) {\n    count = v;\n  }\n}, 2);\nvar _globals = globals,\n    Error_1 = _globals.Error,\n    console_1 = _globals.console;\nvar file = \"imports/api/ChildToParentAPI.svelte\";\n\nfunction create_fragment(ctx) {\n  var block = {\n    c: noop,\n    l: function () {\n      function claim(nodes) {\n        throw new Error_1(\"options.hydrate only works if the component was compiled with the `hydratable: true` option\");\n      }\n\n      return claim;\n    }(),\n    m: noop,\n    p: noop,\n    i: noop,\n    o: noop,\n    d: noop\n  };\n  dispatch_dev(\"SvelteRegisterBlock\", {\n    block: block,\n    id: create_fragment.name,\n    type: \"component\",\n    source: \"\",\n    ctx: ctx\n  });\n  return block;\n}\n\nfunction alertMessage(args) {\n  //sanity check\n  console.log(\"alertMessage function triggered on parent with args \" + args + \"!\"); //check args and alert\n\n  if (typeof args.messageText === \"string\") {\n    alert(args.messageText);\n  }\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n  var $count;\n  validate_store(count, 'count');\n  component_subscribe($$self, count, function ($$value) {\n    return $$invalidate(0, $count = $$value);\n  });\n  var _$$props$$$slots = $$props.$$slots,\n      slots = _$$props$$$slots === void 0 ? {} : _$$props$$$slots,\n      $$scope = $$props.$$scope;\n  validate_slots('ChildToParentAPI', slots, []);\n\n  function displayMessage(args) {\n    //sanity check\n    console.log(\"displayMessage function triggered on parent with args \" + args + \"!\"); //check messageText is string\n\n    if (typeof args.messageText === \"string\") {\n      incomingMessageText.set(args.messageText);\n    }\n  } //function that increments count\n\n\n  var incrementCount = function () {\n    console.log(\"incrementCount function triggered on parent!\");\n    console.log($count);\n    count.set($count + 1);\n  }; //function that decrements count\n\n\n  var decrementCount = function () {\n    console.log(\"decrementCount function triggered on parent!\");\n    count.set($count - 1);\n  }; //message handler\n\n\n  window.addEventListener(\"message\", function (message) {\n    //function adapter\n    var functionAdapter = {\n      displayMessage: displayMessage,\n      alertMessage: alertMessage,\n      incrementCount: incrementCount,\n      decrementCount: decrementCount\n    };\n\n    if (message.origin === CHILD_URL) {\n      //sanity check\n      console.log(\"incoming message in parent MessageHandler from child!\");\n      console.log(message); //parse input\n\n      functionName = message.data.function;\n      args = message.data.args; //call appropriate function\n\n      if (functionAdapter[functionName]) {\n        functionAdapter[functionName](args);\n      } else {\n        throw new Error(\"invalid function name\");\n      }\n    } else if (message.origin === PARENT_URL) {\n      //sanity check\n      console.log(\"incoming message in parent MessageHandler from own URL\");\n    } else {\n      //permission denied\n      throw new Error(\"invalid parent URL, permission denied\");\n    }\n  });\n  var writable_props = [];\n  Object.keys($$props).forEach(function (key) {\n    if (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console_1.warn(\"<ChildToParentAPI> was created with unknown prop '\" + key + \"'\");\n  });\n\n  $$self.$capture_state = function () {\n    return {\n      PARENT_URL: PARENT_URL,\n      CHILD_URL: CHILD_URL,\n      incomingMessageText: incomingMessageText,\n      count: count,\n      displayMessage: displayMessage,\n      alertMessage: alertMessage,\n      incrementCount: incrementCount,\n      decrementCount: decrementCount,\n      $count: $count\n    };\n  };\n\n  return [];\n}\n\nvar ChildToParentAPI = /*#__PURE__*/function (_SvelteComponentDev) {\n  _inheritsLoose(ChildToParentAPI, _SvelteComponentDev);\n\n  function ChildToParentAPI(options) {\n    var _this;\n\n    _this = _SvelteComponentDev.call(this, options) || this;\n    init(_assertThisInitialized(_this), options, instance, create_fragment, safe_not_equal, {});\n    dispatch_dev(\"SvelteRegisterComponent\", {\n      component: _assertThisInitialized(_this),\n      tagName: \"ChildToParentAPI\",\n      options: options,\n      id: create_fragment.name\n    });\n    return _this;\n  }\n\n  return ChildToParentAPI;\n}(SvelteComponentDev);\n\nmodule.exportDefault(ChildToParentAPI);","map":{"version":3,"sources":["imports/api/ChildToParentAPI.svelte"],"names":["_assertThisInitialized","module","link","default","v","_inheritsLoose","SvelteComponentDev","component_subscribe","dispatch_dev","globals","init","noop","safe_not_equal","validate_slots","validate_store","PARENT_URL","CHILD_URL","incomingMessageText","count","Error_1","Error","console_1","console","file","create_fragment","ctx","block","c","l","claim","nodes","m","p","i","o","d","id","name","type","source","alertMessage","args","log","messageText","alert","instance","$$self","$$props","$$invalidate","$count","$$value","$$slots","slots","$$scope","displayMessage","set","incrementCount","decrementCount","window","addEventListener","message","functionAdapter","origin","functionName","data","function","writable_props","Object","keys","forEach","key","indexOf","slice","warn","$capture_state","ChildToParentAPI","options","component","tagName","exportDefault"],"mappings":"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","sourcesContent":["/* imports/api/ChildToParentAPI.svelte generated by Svelte v3.42.4 */\nimport {\n\tSvelteComponentDev,\n\tcomponent_subscribe,\n\tdispatch_dev,\n\tglobals,\n\tinit,\n\tnoop,\n\tsafe_not_equal,\n\tvalidate_slots,\n\tvalidate_store\n} from \"svelte/internal\";\n\nconst { Error: Error_1, console: console_1 } = globals;\nimport { PARENT_URL, CHILD_URL } from \"/public/constants\";\nimport { incomingMessageText, count } from \"/imports/api/stores\";\nconst file = \"imports/api/ChildToParentAPI.svelte\";\n\nfunction create_fragment(ctx) {\n\tconst block = {\n\t\tc: noop,\n\t\tl: function claim(nodes) {\n\t\t\tthrow new Error_1(\"options.hydrate only works if the component was compiled with the `hydratable: true` option\");\n\t\t},\n\t\tm: noop,\n\t\tp: noop,\n\t\ti: noop,\n\t\to: noop,\n\t\td: noop\n\t};\n\n\tdispatch_dev(\"SvelteRegisterBlock\", {\n\t\tblock,\n\t\tid: create_fragment.name,\n\t\ttype: \"component\",\n\t\tsource: \"\",\n\t\tctx\n\t});\n\n\treturn block;\n}\n\nfunction alertMessage(args) {\n\t//sanity check\n\tconsole.log(`alertMessage function triggered on parent with args ${args}!`);\n\n\t//check args and alert\n\tif (typeof args.messageText === \"string\") {\n\t\talert(args.messageText);\n\t}\n}\n\nfunction instance($$self, $$props, $$invalidate) {\n\tlet $count;\n\tvalidate_store(count, 'count');\n\tcomponent_subscribe($$self, count, $$value => $$invalidate(0, $count = $$value));\n\tlet { $$slots: slots = {}, $$scope } = $$props;\n\tvalidate_slots('ChildToParentAPI', slots, []);\n\n\tfunction displayMessage(args) {\n\t\t//sanity check\n\t\tconsole.log(`displayMessage function triggered on parent with args ${args}!`);\n\n\t\t//check messageText is string\n\t\tif (typeof args.messageText === \"string\") {\n\t\t\tincomingMessageText.set(args.messageText);\n\t\t}\n\t}\n\n\t//function that increments count\n\tconst incrementCount = () => {\n\t\tconsole.log(\"incrementCount function triggered on parent!\");\n\t\tconsole.log($count);\n\t\tcount.set($count + 1);\n\t};\n\n\t//function that decrements count\n\tconst decrementCount = () => {\n\t\tconsole.log(\"decrementCount function triggered on parent!\");\n\t\tcount.set($count - 1);\n\t};\n\n\t//message handler\n\twindow.addEventListener(\"message\", function (message) {\n\t\t//function adapter\n\t\tconst functionAdapter = {\n\t\t\tdisplayMessage,\n\t\t\talertMessage,\n\t\t\tincrementCount,\n\t\t\tdecrementCount\n\t\t};\n\n\t\tif (message.origin === CHILD_URL) {\n\t\t\t//sanity check\n\t\t\tconsole.log(\"incoming message in parent MessageHandler from child!\");\n\n\t\t\tconsole.log(message);\n\n\t\t\t//parse input\n\t\t\tfunctionName = message.data.function;\n\n\t\t\targs = message.data.args;\n\n\t\t\t//call appropriate function\n\t\t\tif (functionAdapter[functionName]) {\n\t\t\t\tfunctionAdapter[functionName](args);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"invalid function name\");\n\t\t\t}\n\t\t} else if (message.origin === PARENT_URL) {\n\t\t\t//sanity check\n\t\t\tconsole.log(\"incoming message in parent MessageHandler from own URL\");\n\t\t} else {\n\t\t\t//permission denied\n\t\t\tthrow new Error(\"invalid parent URL, permission denied\");\n\t\t}\n\t});\n\n\tconst writable_props = [];\n\n\tObject.keys($$props).forEach(key => {\n\t\tif (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') console_1.warn(`<ChildToParentAPI> was created with unknown prop '${key}'`);\n\t});\n\n\t$$self.$capture_state = () => ({\n\t\tPARENT_URL,\n\t\tCHILD_URL,\n\t\tincomingMessageText,\n\t\tcount,\n\t\tdisplayMessage,\n\t\talertMessage,\n\t\tincrementCount,\n\t\tdecrementCount,\n\t\t$count\n\t});\n\n\treturn [];\n}\n\nclass ChildToParentAPI extends SvelteComponentDev {\n\tconstructor(options) {\n\t\tsuper(options);\n\t\tinit(this, options, instance, create_fragment, safe_not_equal, {});\n\n\t\tdispatch_dev(\"SvelteRegisterComponent\", {\n\t\t\tcomponent: this,\n\t\t\ttagName: \"ChildToParentAPI\",\n\t\t\toptions,\n\t\t\tid: create_fragment.name\n\t\t});\n\t}\n}\n\nexport default ChildToParentAPI;"]},"sourceType":"module","hash":"30c3e46a8f00327a9d89738d4348960c81ea33fb"}
